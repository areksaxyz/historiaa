<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(content, pageTitle, activeMenu)">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title th:text="${pageTitle} ?: 'Admin Panel'">Admin Panel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --sidebar-w: 260px;
      --sidebar-bg: #2c3e50;
      --sidebar-hover: #34495e;
      --accent: #3498db;
    }
    html, body { height: 100%; }
    body { font-family: 'Poppins', sans-serif; background: #f0f2f5; }

    /* Sidebar */
    .sidebar{
      position: fixed; top: 0; left: 0; bottom: 0;
      width: var(--sidebar-w);
      background: var(--sidebar-bg); color: #fff;
      display: flex; flex-direction: column;
      border-right: 1px solid rgba(255,255,255,.08);
    }
    .sidebar .brand{
      height: 64px; display:flex; align-items:center; padding: 0 20px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .sidebar .brand .title{ font-weight: 700; margin-left: 10px; }
    .sidebar .nav{
      padding: 12px 8px; overflow-y: auto;
    }
    .sidebar .nav-link{
      display:flex; align-items:center; gap:12px;
      color:#bdc3c7; padding:10px 14px; margin:4px 8px;
      border-radius: 10px; transition: .15s;
      font-weight: 500;
    }
    .sidebar .nav-link .bi{ width:20px; text-align:center; font-size:1.05rem; }
    .sidebar .nav-link:hover{ color:#fff; background: var(--sidebar-hover); }
    .sidebar .nav-link.active{
      color:#fff; background: var(--sidebar-hover);
      box-shadow: inset 3px 0 0 0 var(--accent);
    }

    /* Main Area */
    .main-area{ margin-left: var(--sidebar-w); min-height: 100%; }
    .topbar{
      position: sticky; top: 0; z-index: 5; height: 64px;
      display:flex; align-items:center; justify-content:space-between;
      padding: 0 20px; background:#fff; border-bottom:1px solid #e9ecef;
    }
    .content{ padding: 24px; }
    @media (max-width: 992px){
      .sidebar{ width: 220px; }
      .main-area{ margin-left: 220px; }
    }
  </style>
</head>
<body>

<!-- Sidebar -->
<aside class="sidebar">
  <div class="brand">
    <i class="bi bi-shield-shaded"></i>
    <span class="title">Admin Panel</span>
  </div>
  <nav class="nav flex-column">
    <a class="nav-link" th:href="@{/admin/laporan}"
       th:classappend="${activeMenu}=='laporan' ? ' active' : ''">
      <i class="bi bi-flag"></i><span>Laporan Masuk</span>
    </a>
    <a class="nav-link" th:href="@{/admin/situs}"
       th:classappend="${activeMenu}=='situs' ? ' active' : ''">
      <i class="bi bi-bank"></i><span>Kelola Situs</span>
    </a>
    <div class="mt-3"></div>
    <a class="nav-link" th:href="@{/}">
      <i class="bi bi-house-door"></i><span>Kembali ke Home</span>
    </a>
    <a class="nav-link" th:href="@{/logout}">
      <i class="bi bi-box-arrow-left"></i><span>Logout</span>
    </a>
  </nav>
</aside>

<!-- Main -->
<div class="main-area">
  <div class="topbar">
    <div class="d-flex align-items-center gap-2">
      <i class="bi bi-speedometer2"></i>
      <span class="fw-semibold" th:text="${pageTitle} ?: 'Dashboard'">Dashboard</span>
    </div>
    <div class="d-flex align-items-center gap-3">
      <span class="text-muted small d-none d-sm-inline">
        <i class="bi bi-person-circle me-1"></i><span th:text="${#authentication?.name}">admin</span>
      </span>
      <a class="btn btn-sm btn-outline-secondary" th:href="@{/logout}">
        <i class="bi bi-box-arrow-right me-1"></i>Keluar
      </a>
    </div>
  </div>
  <main class="content">
    <div th:insert="${content}"></div>
  </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
