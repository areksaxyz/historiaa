spring.application.name=historia
server.port=8081

# --- DB ---
spring.datasource.url=jdbc:postgresql://localhost:5432/db_sejarah
spring.datasource.username=historia
spring.datasource.password=password
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

upload.dir=src/main/resources/static/uploads/images

# (Opsional) JWT - tidak dipakai untuk OAuth2 login
app.jwt.secret=GantiIniDenganKunciMinimal32Karakter_Yang_Aman_1234567890
app.jwt.exp-minutes=120

# --- Security: daftar email yang dianggap admin (pisah koma)
app.security.admin-emails=admin@gmail.com
app.security.admin-domain=

# =========================================================
# OAUTH2 GOOGLE
# Kita buat 2 registration terpisah supaya bisa bedakan flow:
# 1) google-login    -> tombol "Login dengan Google"
# 2) google-register -> tombol "Daftar dengan Google"
# Keduanya boleh pakai client-id/secret yang sama.
# =========================================================

# ---------- LOGIN ----------
spring.security.oauth2.client.registration.google-login.client-id=${GOOGLE_CLIENT_ID:GANTI_DENGAN_CLIENT_ID_GOOGLE}
spring.security.oauth2.client.registration.google-login.client-secret=${GOOGLE_CLIENT_SECRET:GANTI_DENGAN_CLIENT_SECRET_GOOGLE}
spring.security.oauth2.client.registration.google-login.scope=openid,profile,email
spring.security.oauth2.client.registration.google-login.redirect-uri={baseUrl}/login/oauth2/code/google-login
spring.security.oauth2.client.provider.google-login.issuer-uri=https://accounts.google.com

# ---------- REGISTER ----------
spring.security.oauth2.client.registration.google-register.client-id=${GOOGLE_CLIENT_ID:GANTI_DENGAN_CLIENT_ID_GOOGLE}
spring.security.oauth2.client.registration.google-register.client-secret=${GOOGLE_CLIENT_SECRET:GANTI_DENGAN_CLIENT_SECRET_GOOGLE}
spring.security.oauth2.client.registration.google-register.scope=openid,profile,email
spring.security.oauth2.client.registration.google-register.redirect-uri={baseUrl}/login/oauth2/code/google-register
spring.security.oauth2.client.provider.google-register.issuer-uri=https://accounts.google.com
